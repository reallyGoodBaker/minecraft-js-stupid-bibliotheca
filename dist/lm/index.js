class t{x=0;y=0;z=0;constructor(t){this.x=t[0]||0,this.y=t[1]||0,this.z=t[2]||0}static from(s,m,i){return new t([s,m,i])}static fromVec3(s){return new t([s.x,s.y,s.z])}static m(t){const{x:s,y:m,z:i}=t;return Math.sqrt(s*s+m*m+i*i)}m(){return t.m(this)}static isZero(t){return 0===t.x&&0===t.y&&0===t.z}isZero(){return t.isZero(this)}static normalize(t){if(this.isZero(t))return!1;const{x:s,y:m,z:i}=t,r=this.m(t);t.x=s/r,t.y=m/r,t.z=i/r}n(){return t.normalize(this)}static add(s,m){return new t([s.x+m.x,s.y+m.y,s.z+m.z])}add(s){return t.add(this,s)}static sub(s,m){return new t([s.x-m.x,s.y-m.y,s.z-m.z])}sub(s){return t.sub(this,s)}static mul(s,m){return new t([s.x*m,s.y*m,s.z*m])}mul(s){return t.mul(this,s)}static div(s,m){return new t([s.x/m,s.y/m,s.z/m])}div(s){return t.div(this,s)}static dot(t,s){return t.x*s.x+t.y*s.y+t.z*s.z}dot(s){return t.dot(this,s)}static cross(s,m){return new t([s.y*m.z-s.z*m.y,s.z*m.x-s.x*m.z,s.x*m.y-s.y*m.x])}cross(s){return t.cross(this,s)}valueOf(){return new Float64Array([this.x,this.y,this.z])}toString(){return`(${this.x.toFixed(2)}, ${this.y.toFixed(2)}, ${this.z.toFixed(2)})`}}class s{x=0;y=0;z=0;w=0;constructor(t){this.x=t[0]||0,this.y=t[1]||0,this.z=t[2]||0,this.w=t[3]||0}static from(t,m,i,r){return new s([t,m,i,r])}static fromVec3(t){return new s([t.x,t.y,t.z])}static fromVec4(t){return new s([t.x,t.y,t.z,t.w])}static m(t){const{x:s,y:m,z:i,w:r}=t;return Math.sqrt(s*s+m*m+i*i+r*r)}m(){return s.m(this)}static isZero(t){return 0===t.x&&0===t.y&&0===t.z&&0===t.w}isZero(){return s.isZero(this)}static normalize(t){if(this.isZero(t))return!1;const{x:s,y:m,z:i,w:r}=t,e=this.m(t);t.x=s/e,t.y=m/e,t.z=i/e,t.w=r/e}n(){return s.normalize(this)}static add(t,m){return new s([t.x+m.x,t.y+m.y,t.z+m.z,t.w+m.w])}add(t){return s.add(this,t)}static sub(t,m){return new s([t.x-m.x,t.y-m.y,t.z-m.z,t.w-m.w])}sub(t){return s.sub(this,t)}static mul(t,m){return new s([t.x*m,t.y*m,t.z*m,t.w*m])}mul(t){return s.mul(this,t)}static div(t,m){return new s([t.x/m,t.y/m,t.z/m,t.w/m])}div(t){return s.div(this,t)}static dot(t,s){return t.x*s.x+t.y*s.y+t.z*s.z+t.w*s.w}dot(t){return s.dot(this,t)}static multiply(t,s){return m.multiply(s,t)}multiply(t){return s.multiply(this,t)}valueOf(){return new Float64Array([this.x,this.y,this.z,this.w])}toString(){return`(${this.x.toFixed(2)}, ${this.y.toFixed(2)}, ${this.z.toFixed(2)}, ${this.w.toFixed(2)})`}}class m extends Float64Array{constructor(){super(16),this.fill(0)}get m11(){return this[0]}get m12(){return this[1]}get m13(){return this[2]}get m14(){return this[3]}get m21(){return this[4]}get m22(){return this[5]}get m23(){return this[6]}get m24(){return this[7]}get m31(){return this[8]}get m32(){return this[9]}get m33(){return this[10]}get m34(){return this[11]}get m41(){return this[12]}get m42(){return this[13]}get m43(){return this[14]}get m44(){return this[15]}set m11(t){this[0]=t}set m12(t){this[1]=t}set m13(t){this[2]=t}set m14(t){this[3]=t}set m21(t){this[4]=t}set m22(t){this[5]=t}set m23(t){this[6]=t}set m24(t){this[7]=t}set m31(t){this[8]=t}set m32(t){this[9]=t}set m33(t){this[10]=t}set m34(t){this[11]=t}set m41(t){this[12]=t}set m42(t){this[13]=t}set m43(t){this[14]=t}set m44(t){this[15]=t}get a(){return this.m11}get b(){return this.m12}get c(){return this.m21}get d(){return this.m22}get e(){return this.m41}get f(){return this.m42}set a(t){this.m11=t}set b(t){this.m12=t}set c(t){this.m21=t}set d(t){this.m22=t}set e(t){this.m41=t}set f(t){this.m42=t}static init(t,s,i){const r=Float64Array.from(t,s,i),e=new m;return e.set(r),e}clone(){return m.init(this.slice())}setIdentity(){return this.set([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this}static identity(){const t=new m;return t.setIdentity(),t}static add(t,s){const i=new m;return i.set(t.map(((t,m)=>t+s[m]))),i}add(t){return m.add(this,t)}static sub(t,s){const i=new m;return i.set(t.map(((t,m)=>t-s[m]))),i}sub(t){return m.sub(this,t)}setTranslation(t,s,m){return this.m14=t,this.m24=s,this.m34=m,this}setRotation(s,m){t.normalize(m);const i=Math.sin(s),r=Math.cos(s),e=m.x,h=m.y,n=m.z,u=1-r,o=u*e*e+r,a=u*e*h-i*n,c=u*e*n+i*h,x=u*e*h+i*n,y=u*h*h+r,d=u*h*n-i*e,z=u*e*n-i*h,l=u*h*n+i*e,w=u*n*n+r;return this.m11=o,this.m12=a,this.m13=c,this.m21=x,this.m22=y,this.m23=d,this.m31=z,this.m32=l,this.m33=w,this}setScale(t,s,m){return this.m11*=t,this.m22*=s,this.m33*=m,this}setRotationX(t){const s=Math.sin(t),m=Math.cos(t);return this.m11=1,this.m12=0,this.m13=0,this.m21=0,this.m22=m,this.m23=s,this.m31=0,this.m32=-s,this.m33=m,this}setRotationY(t){const s=Math.sin(t),m=Math.cos(t);return this.m11=m,this.m12=0,this.m13=-s,this.m21=0,this.m22=1,this.m23=0,this.m31=s,this.m32=0,this.m33=m,this}setRotationZ(t){const s=Math.sin(t),m=Math.cos(t);return this.m11=m,this.m12=s,this.m13=0,this.m21=-s,this.m22=m,this.m23=0,this.m31=0,this.m32=0,this.m33=1,this}setRotationXYZ(t,s,m){const i=Math.sin(t),r=Math.cos(t),e=Math.sin(s),h=Math.cos(s),n=Math.sin(m),u=Math.cos(m);return this.m11=r*u+i*e*n,this.m12=r*n-i*e*u,this.m13=i*h,this.m21=i*u-r*e*n,this.m22=r*u-i*e*u,this.m23=r*e,this.m31=i*n+r*e*u,this.m32=-i*u+r*e*n,this.m33=r*h,this}static translate(t,s){const{x:m,y:i,z:r}=s,e=t.clone();return e.m14=e.m11*m+e.m21*i+e.m31*r+m,e.m24=e.m21*m+e.m22*i+e.m32*r+i,e.m34=e.m31*m+e.m32*i+e.m33*r+r,e}translate(t){return m.translate(this,t)}static transpose(t){return this.from([t.m11,t.m21,t.m31,t.m41,t.m12,t.m22,t.m32,t.m42,t.m13,t.m23,t.m33,t.m43,t.m14,t.m24,t.m34,t.m44])}transpose(){return m.transpose(this)}static multiply(t,i){return i instanceof m?this.from([t.m11*i.m11+t.m12*i.m21+t.m13*i.m31+t.m14*i.m41,t.m11*i.m12+t.m12*i.m22+t.m13*i.m32+t.m14*i.m42,t.m11*i.m13+t.m12*i.m23+t.m13*i.m33+t.m14*i.m43,t.m11*i.m14+t.m12*i.m24+t.m13*i.m34+t.m14*i.m44,t.m21*i.m11+t.m22*i.m21+t.m23*i.m31+t.m24*i.m41,t.m21*i.m12+t.m22*i.m22+t.m23*i.m32+t.m24*i.m42,t.m21*i.m13+t.m22*i.m23+t.m23*i.m33+t.m24*i.m43,t.m21*i.m14+t.m22*i.m24+t.m23*i.m34+t.m24*i.m44,t.m31*i.m11+t.m32*i.m21+t.m33*i.m31+t.m34*i.m41,t.m31*i.m12+t.m32*i.m22+t.m33*i.m32+t.m34*i.m42,t.m31*i.m13+t.m32*i.m23+t.m33*i.m33+t.m34*i.m43,t.m31*i.m14+t.m32*i.m24+t.m33*i.m34+t.m34*i.m44,t.m41*i.m11+t.m42*i.m21+t.m43*i.m31+t.m44*i.m41,t.m41*i.m12+t.m42*i.m22+t.m43*i.m32+t.m44*i.m42,t.m41*i.m13+t.m42*i.m23+t.m43*i.m33+t.m44*i.m43,t.m41*i.m14+t.m42*i.m24+t.m43*i.m34+t.m44*i.m44]):new s([t.m11*i.x+t.m12*i.y+t.m13*i.z+t.m14*i.w,t.m21*i.x+t.m22*i.y+t.m23*i.z+t.m24*i.w,t.m31*i.x+t.m32*i.y+t.m33*i.z+t.m34*i.w,t.m41*i.x+t.m42*i.y+t.m43*i.z+t.m44*i.w])}multiply(t){return m.multiply(this,t)}valueOf(){return new Float64Array(this)}toString(){return`${this.m11.toFixed(2)}\t${this.m12.toFixed(2)}\t${this.m13.toFixed(2)}\t${this.m14.toFixed(2)}\n${this.m21.toFixed(2)}\t${this.m22.toFixed(2)}\t${this.m23.toFixed(2)}\t${this.m24.toFixed(2)}\n${this.m31.toFixed(2)}\t${this.m32.toFixed(2)}\t${this.m33.toFixed(2)}\t${this.m34.toFixed(2)}\n${this.m41.toFixed(2)}\t${this.m42.toFixed(2)}\t${this.m43.toFixed(2)}\t${this.m44.toFixed(2)}\n`}static perspective(t,s,i,r){const e=Math.tan(t/2),h=e*s;return m.from([i/h,0,0,0,0,1/e,0,0,0,0,-(i+r)/(r-i),-2*r*i/(r-i),0,0,-1,0])}static orthographic(t,s,i,r){return m.from([1/t,0,0,0,0,1/s,0,0,0,0,-2/(r-i),-(r+i)/(r-i),0,0,0,1])}static lookAt(s,i,r){const e=t.sub(i,s);e.n();const h=t.cross(r,e);h.n();const n=t.cross(e,h);return n.n(),m.from([h.x,h.y,h.z,-t.dot(h,s),n.x,n.y,n.z,-t.dot(n,s),e.x,e.y,e.z,-t.dot(e,s),0,0,0,1])}}export{m as Matrix,t as Vec3,s as Vec4};
